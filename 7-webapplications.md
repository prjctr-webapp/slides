---
title: "Вебзастосунки ІI"
customTheme: "theme"
width: 1280
height: 720
---

# Вебзастосунки

## Зберігання даних

---

## Cookies

Cookies (кукі) — це невеликі текстові файли, які вебсайт зберігає на пристрої користувача. Вони використовуються для збереження даних про користувачів та їхні переваги.

--

### Принцип роботи

1. **Зберігання даних:** Коли користувач відвідує вебсайт, сайт може зберегти cookie на його пристрої. Cookie зазвичай містять інформацію, таку як ідентифікатор сесії, налаштування користувача або історію перегляду.

2. **Відправлення даних на сервер:** При кожному наступному відвідуванні сайту або при запиті до сервера, браузер автоматично відправляє cookies назад на сервер. Це дозволяє серверу «згадати» користувача та налаштувати вміст відповідно.

--

### Можливості Cookies

- **Керування сесіями:** Cookies часто використовуються для відстеження сесій користувачів на сайті, особливо для аутентифікації та збереження стану користувача.
- **Персоналізація:** За допомогою cookies вебсайти можуть запам'ятовувати налаштування та переваги користувачів, такі як мова сайту або вміст кошика покупок.
- **Трекінг та аналітика:** Cookies використовуються для збору даних про поведінку користувачів на сайті, що допомагає в аналітиці та маркетингових цілях.

--

### Обмеження Cookies

- **Обмежений розмір:** Кожен cookie має обмеження у розмірі (зазвичай до 4KB), що обмежує кількість інформації, яку можна зберігати.
- **Приватність та безпека:** Використання cookies може створювати питання конфіденційності, оскільки вони зберігають дані про користувачів. Також cookies можуть бути використані для міжсайтового скриптування (XSS) або інших атак.
- **Обмеження кросдоменного доступу:** Браузери обмежують доступ до cookies на основі домену, що може ускладнити спільне використання даних між різними сайтами.

--

### Приклади використання

- **Аутентифікація:** Cookies використовуються для зберігання ідентифікаторів сесії, що дозволяє користувачам зберігати дані для входу на сайті.
- **Збереження налаштувань:** Зберігання персональних налаштувань користувача, таких як мова інтерфейсу.

---

## LocalStorage

LocalStorage надає інтерфейс для зберігання даних у вигляді ключ/значення в браузері користувача. Дані зберігаються без терміну давності та доступні під час наступних сесій.

--

### Принцип роботи

- **Тривале сховище:** Дані зберігаються без обмеження часу та не видаляються при закритті браузера.
- **Доступ на рівні домену:** Дані доступні для всіх вікон та вкладок з тим самим доменом.
- **Ключ/Значення:** Дані зберігаються у форматі ключ/значення, де як ключ, так і значення є рядками.

--

### Можливості LocalStorage

- Зберігання до 5-10MB даних (залежно від браузера).
- Легке використання для зберігання та витягування даних.
- Ідеальне для зберігання налаштувань користувача, стану застосунку тощо.

--

### Обмеження LocalStorage

- Усі дані зберігаються як рядки, що може вимагати додаткової серіалізації/десеріалізації.
- Відсутність автоматичного очищення, користувач або застосунок повинен самостійно керувати видаленням даних.
- Потенційні проблеми з конфіденційністю, оскільки дані легко доступні через JavaScript.

--

### Приклади використання LocalStorage

- Зберігання налаштувань користувача, таких як тема інтерфейсу або мова.
- Кешування даних для зменшення кількості запитів до сервера.
- Зберігання стану гри або застосунку між сесіями.

---

## SessionStorage

SessionStorage схожий на LocalStorage, але з однією відмінністю: дані, збережені в SessionStorage, доступні лише під час поточної сесії браузера.

--

### Принцип роботи SessionStorage

- **Сесійне сховище:** Дані зберігаються лише під час життя вкладки, в якій вони були створені.
- **Ізольований доступ:** Кожна вкладка або вікно має своє власне сховище SessionStorage.
- **Ключ/Значення:** Подібно до LocalStorage, дані зберігаються у форматі ключ/значення.

--

## Можливості SessionStorage

- Зберігання тимчасових даних, які мають бути видалені після закриття вкладки.
- Ізоляція даних між вкладками, що забезпечує більшу безпеку та контроль.

--

## Обмеження SessionStorage

- Обмежене використання у сценаріях, де дані повинні зберігатися довготривало.
- Такі ж обмеження зберігання даних як рядків, як і в LocalStorage.
- Не підходить для зберігання важливих даних через ризик їх втрати при закритті вкладки.

--

## Приклади використання SessionStorage

- Тимчасове зберігання даних форми під час заповнення.
- Зберігання тимчасової інформації, такої як товари в кошику покупок під час сесії.
- Ізоляція даних між вкладками для забезпечення безпеки в мультивкладкових застосунках.

---

### IndexedDB

IndexedDB — це браузерна база даних, що надає можливість зберігати та отримувати об'єкти за допомогою ключів на стороні клієнта. Вона дозволяє створювати, читати та писати в локальну базу даних. IndexedDB є потужною технологією для зберігання значних обсягів структурованих даних, включно з файлами та блобами, та дозволяє виконувати високопродуктивні пошуки за допомогою індексів.

--

### Особливості IndexedDB

- **Сховище об'єктів**: Зберігає дані у вигляді пар ключ/значення. Кожен об'єкт має унікальний ключ, який використовується для швидкого доступу до даних.
- **Транзакційна модель**: Гарантує послідовність та надійність дій з базою даних, дозволяючи виконувати комплексні операції з даними.
- **Індексування**: Підтримує створення індексів для різних полів у базі даних, що підвищує швидкість пошуку та сортування.
- **Великий обсяг зберігання**: Дозволяє зберігати значно більший обсяг даних, ніж інші клієнтські технології, як-от LocalStorage.

--

### Переваги IndexedDB

- **Масштабованість**: Відмінно підходить для застосунків, які потребують зберігання великих обсягів даних або складних даних.
- **Гнучкість**: Підтримує зберігання різних типів даних, включно зі складними об'єктами та файловими блобами.
- **Надійне управління даними**: Транзакції та індекси забезпечують ефективне та безпечне управління даними.
- **Підтримка офлайн-режиму**: Дозволяє створювати застосунки, які можуть працювати без постійного доступу до мережі.

--

### Недоліки IndexedDB

- **Вища складність**: Робота з IndexedDB вимагає глибшого розуміння баз даних та асинхронного програмування.
- **Обмежена сумісність**: Не всі старі браузери підтримують IndexedDB або можуть мати різницю в реалізації.
- **Комплексність управління версіями**: Управління змінами у структурі бази даних може бути складним та вимагати додаткової уваги.

--

### Приклади використання IndexedDB

- **Зберігання великих наборів даних**: Ідеально для вебзастосунків, які потребують зберігання великих обсягів інформації, таких як зображення, відео або великі документи.
- **Комплексні застосунки з можливістю офлайн-доступу**: Застосунки, які вимагають збереження даних користувача для доступу без інтернету, наприклад, редактори документів або читалки електронних книг.
- **Ігри**: Зберігання даних гри, включаючи прогрес гравця, налаштування, рівні та іншу геймплейну інформацію.

---

## Service Worker

Service Worker — це скрипт, який працює у фоновому режимі веббраузера, надаючи можливості для кешування вмісту та роботи вебзастосунку в офлайн-режимі. Він діє як проксі-сервер між вебзастосунками, браузерами та мережею, дозволяючи розробникам ефективно управляти мережевими запитами, кешувати ресурси та навіть відправляти push-сповіщення.

--

### Особливості Service Worker

- **Проміжний обробник запитів**: Перехоплює та обробляє мережеві запити з вебзастосунку.
- **Контроль кешування**: Дозволяє детально керувати тим, як та коли ресурси кешуються та використовуються.
- **Підтримка офлайн-режиму**: Дозволяє вебзастосункам працювати без інтернет-з'єднання за рахунок кешованих даних.

--

### Переваги Service Worker

- **Покращення продуктивності**: Кешування ресурсів може значно прискорити завантаження вебзастосунків.
- **Офлайн-досвід**: Дозволяє користувачам продовжувати роботу з застосунком навіть без інтернету.
- **Надійність**: Знижує залежність від мережевих умов, робить застосунок стабільнішим.
- **Push-сповіщення**: Можливість відправляти повідомлення користувачам навіть коли вебзастосунок не відкритий.

--

### Недоліки Service Worker

- **Складність**: Розробка та налагодження Service Worker може бути складною.
- **Сумісність**: Не всі браузери повністю підтримують всі можливості Service Worker.
- **Свіжість даних**: Кешовані дані можуть бути застарілими, що вимагає ретельного управління кешем.
- **Безпека**: Вимагає HTTPS для забезпечення безпеки обробки даних.

--

### Приклади використання Service Worker

- **Офлайн-застосунки**: Зберігання статичних ресурсів для вебсайтів, які потрібно переглядати без доступу до мережі.
- **Прогресивні вебзастосунки (PWA)**: Підвищення продуктивності та надійності вебзастосунків, що робить їх схожими на рідні застосунки.
- **Кешування контенту**: Для медіазастосунків, що зберігають великі обсяги даних, таких як відео або зображення.

---

## Стратегії кешування з Service Worker

--

### Огляд стратегій кешування (1/2)

- **Cache First (Кеш спочатку)**: Застосунок спочатку намагається витягнути ресурси з кешу; якщо вони відсутні, робить запит до мережі.
- **Network First (Мережа спочатку)**: Застосунок спочатку робить запит до мережі; якщо запит не вдається, використовує кешовані дані.
- **Cache Falling Back to Network (Кеш з поверненням до мережі)**: Спроба витягнути ресурси з кешу, а при їх відсутності — звернення до мережі.

--

### Огляд стратегій кешування (2/2)

- **Network Falling Back to Cache (Мережа з поверненням до кешу)**: Спроба отримати ресурси з мережі, а при їх відсутності — використання кешованих даних.
- **Stale While Revalidate (Застарілі, поки не перевірені)**: Надання кешованих даних для швидкого відгуку, паралельно із запитом до мережі для оновлення кешу.

--

### Вибір оптимальної стратегії

Правильний вибір стратегії кешування залежить від кількох факторів:

- **Доступність мережі**: Для застосунків у зонах з поганою мережею може бути краще використовувати «Cache First».
- **Актуальність даних**: Якщо важлива надзвичайна актуальність, «Network First» може бути кращим варіантом.
- **Чутливість до затримок**: «Cache First» або «Stale While Revalidate» можуть зменшити затримки при відображенні контенту.

--

### Реальні сценарії впровадження

- **Новинні сайти**: «Stale While Revalidate» може бути використано для швидкого показу останніх переглянутих новин, з одночасним оновленням їх у фоновому режимі.
- **Ігри**: «Cache First» ідеально підходить для кешування ресурсів гри, таких як зображення та звуки, що не часто оновлюються.
- **Застосунки для подорожей**: «Network First» може бути використано для забезпечення найактуальнішої інформації про рейси або готелі, з використанням кешу як запасного варіанту.
